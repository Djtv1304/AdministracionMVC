import{j as e}from"./jsx-runtime.ojTTAiD7.js";import{a as p}from"./_astro_actions.DCLOYqNE.js";import{r as i}from"./index.Dck49-wq.js";import{G as h}from"./iconBase.kG_OjCk4.js";function f(a){return h({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 1 0-56 0z"},child:[]}]})(a)}const v=()=>{const[a,c]=i.useState({email:"",password:""}),[s,l]=i.useState({}),d=t=>{const{name:n,value:r}=t.target;c({...a,[n]:r})},m=async t=>{t.preventDefault(),l({});const n=new FormData(t.currentTarget),r=await p.loginUser(n);if(r.error){console.error(r.error);const o={};r.error&&"fields"in r.error&&Object.entries(r.error.fields).forEach(([x,u])=>{o[x]=u[0]}),l(o);return}if(!r.data.success){l(o=>({...o,general:r.data.error?.fields.general??""}));return}window.location.href="/dashboard"};return e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[e.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",required:!0,value:a.email,onChange:d,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:z-10 sm:text-sm",placeholder:"Email address"}),s.email&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:s.email})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:a.password,onChange:d,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:z-10 sm:text-sm",placeholder:"Password"}),s.password&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:s.password})})]})]}),s.general&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-5",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:s.general})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsx(f,{size:25})}),"Sign in"]})})]})]})};export{v as default};
