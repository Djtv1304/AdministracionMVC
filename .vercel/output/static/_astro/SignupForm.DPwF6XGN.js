import{j as e}from"./jsx-runtime.CRkqtJS5.js";import{G as b,a as y}from"./iconBase.CVcf10Sa.js";import{r as d}from"./index.B52nOzfP.js";function g(a){return b({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(a)}const N=()=>{const[a,i]=d.useState({name:"",lastname:"",birthdate:"",email:"",password:"",confirmPassword:""}),[r,c]=d.useState({}),[n,m]=d.useState(null),t=o=>{const{name:l,value:s}=o.target;i({...a,[l]:s})},u=async o=>{o.preventDefault(),c({}),m(null);const l=new FormData(o.currentTarget),s=await y.newUser(l);if(console.log(s),s.error){console.error(s.error);const x={};s.error&&"fields"in s.error&&Object.entries(s.error.fields).forEach(([p,h])=>{x[p]=h[0]}),c(x);return}i({name:"",lastname:"",birthdate:"",email:"",password:"",confirmPassword:""}),m(s.data?.data??null)};return e.jsx("div",{className:"min-h-[80vh] flex items-centr justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx("a",{href:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"First Name*"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:a.name,onChange:t,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),r.name&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.name})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastname",className:"block text-sm font-medium text-gray-700",children:"Last Name*"}),e.jsx("input",{id:"lastname",name:"lastname",type:"text",required:!0,value:a.lastname,onChange:t,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),r.lastname&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.lastname})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"birthdate",className:"block text-sm font-medium text-gray-700",children:"Birthdate*"}),e.jsx("input",{id:"birthdate",name:"birthdate",type:"date",required:!0,value:a.birthdate,onChange:t,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),r.birthdate&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.birthdate})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address*"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:a.email,onChange:t,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),r.email&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.email})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:a.password,onChange:t,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),r.password&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.password})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password*"}),e.jsx("input",{id:"confirm-password",name:"confirmPassword",type:"password",required:!0,value:a.confirmPassword,onChange:t,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),r.confirmPassword&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-3",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.confirmPassword})})]})]}),r.general&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-5",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r.general})}),n&&e.jsx("div",{className:`text-sm p-2 rounded-md ${n.startsWith("Ya existe")?"bg-red-100 text-red-500":"bg-green-100 text-green-500"}`,children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:n}),!n.startsWith("Ya existe")&&e.jsx("a",{href:"/login",className:"font-medium text-white bg-green-500 hover:bg-green-600 mt-7 px-2 py-1 rounded-md block text-center",children:"Sign in to your new account"})]})}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsx(g,{size:20})}),"Create Account"]})})]})]})})};export{N as default};
